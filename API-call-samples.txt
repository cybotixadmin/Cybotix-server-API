



# post clickstream data to Cybotix

curl -X POST -H "Host: localhost:3000" -H ": dmogejgjgpkaakblccgojkkdofkcjkcg" -H "Origin: chrome-extension://dmogejgjgpkaakblccgojkkdofkcjkcg" -H "Content-Type: application/json" -d '{"content":"Hello, World!", "url":"http://test2/click","localtime":"2023-08-21 13:47:32"}' http://localhost:3000/plugin_user_post_click



# API for user using browser app to get clickstream data


curl -X GET -H "Content-Type: application/json" -H "installationUniqueId: 6596c84b-544c-98e3-6ce2-8ccc1b334055" http://localhost:3000/plugin_user_get_all_clicks

# user using browser app delete clickstream data item


curl -X POST -H "Content-Type: application/json" -d '{  "linkid":"5"}' http://localhost:3000/plugin_user_delete_click



# delete multiple click stream items from browser plugin

curl -X POST -H "Content-Type: application/json" -H "installationUniqueId: 6596c84b-544c-98e3-6ce2-8ccc1b334055"  -d '[{"linkid":"bc48e22d-68be-4fed-8e95-b2eb58aabf7f"}, {"linkid":"337a2c23-b2cd-4bd0-9ac3-d9c2cbc18a67"}]' -k https://api-dev.cybotix.no/plugin_user_delete_clicks


####

# call to add data agreement


curl -X POST -H "Content-Type: application/json" -H "installationUniqueId: 6596c84b-544c-98e3-6ce2-8ccc1b334055"  -d '{ "browserid":"mhoppoobobddnonppblechkphekniflb", "userid":"", "agreement_json":{"createtime":"2023-08-28T20:49:41.725Z","lastmodifiedtime":"2023-08-29T20:49:41.725Z","owner_id":"2342","counterparty_name":"Web Shop Inc.","counterparty_id":"65232","scope":{"one":"two"}}}' http://localhost:3000/plugin_user_add_data_agreement


return data
{"agreementid":"5"}



# call to delete data agreement(s)


curl -X POST -H "Content-Type: application/json" -H "installationUniqueId: 6596c84b-544c-98e3-6ce2-8ccc1b334055"  -d '[{"agreementid":"bc48e22d-68be-4fed-8e95-b2eb58aabf7f"}, {"agreementid":"337a2c23-b2cd-4bd0-9ac3-d9c2cbc18a67"}]' -k https://api-dev.cybotix.no/plugin_user_delete_data_agreement


curl -X POST -H "Content-Type: application/json" -H "installationUniqueId: 6596c84b-544c-98e3-6ce2-8ccc1b334055"  -d '[{    "agreementid": "1b3248b7-9de0-4293-a9e8-f111ab934840"},{    "agreementid": "77e5cf7b-0b92-453d-911a-6ce827948f45"},{    "agreementid": "07fd81f7-697c-49fa-bacb-f83a12f715d2"},{    "agreementid": "92e83315-d079-4742-b77f-287bb0ce461b"},{    "agreementid": "d6fdadec-a76e-4327-835e-988cd521cf70"},{    "agreementid": "42d3060f-a738-4df7-943b-4cd1bec61768"},{    "agreementid": "a12d0075-2395-48b4-a164-5b94e9cb56d2"},{    "agreementid": "90ad864b-5fc2-4754-90d9-c8f6388ed13d"},{    "agreementid": "96c1cf7e-5e13-4a1d-92bb-3e0757394055"},{    "agreementid": "70e02552-7d4a-46e1-9ff5-1f5b472ee1e8"},{    "agreementid": "5d27f157-7273-4e70-856c-2003647af5e7"}]' -k https://api-dev.cybotix.no/plugin_user_delete_data_agreement


# call to read one data agreement 

curl -X POST -H "Content-Type: application/json" -H "installationUniqueId: 6596c84b-544c-98e3-6ce2-8ccc1b334055"  -d '{"agreementid":"5"}' -k https://api-dev.cybotix.no/plugin_user_read_data_agreement


# call to read all data agreements for a user/browserid


curl -X GET -H "Content-Type: application/json" -H "installationUniqueId: 6596c84b-544c-98e3-6ce2-8ccc1b334055" -k https://api-dev.cybotix.no/plugin_user_read_all_data_agreements




# call to check validity of data agreement

curl -X POST -H "Content-Type: application/json" -H "installationUniqueId: 6596c84b-544c-98e3-6ce2-8ccc1b334055"  -d '{  "agreementid":"c8b5a6db-1c2b-4b2a-b9b1-6ce50fc321f6"}' -k https://api-dev.cybotix.no/plugin_user_validate_agreement



# call to suspend/activate data agreement 
# setting activestatus to "1" (active) or "0" (disabled)

curl -X POST -H "Content-Type: application/json" -H "installationUniqueId: 6596c84b-544c-98e3-6ce2-8ccc1b334055" -d '{  "agreementid":"c8b5a6db-1c2b-4b2a-b9b1-6ce50fc321f6", "activestatus":"1"}' -k https://api-dev.cybotix.no/plugin_user_set_agreement_active_status




# call to create platform token from a PEM-formated private key

curl -X POST -H "Content-Type: application/x-www-form-urlencoded" -d 'privatekey_pem=-----BEGIN+PRIVATE+KEY-----%0D%0AMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCwDKfVvC7rFlc%2B%0D%0ACJvUg9AgZuFfQ7%2F6hQEqgHG7rTjJdtZ5M79j%2FoO6LE0o3ZF4AgCx3iWO2tJNSZGe%0D%0AJ3eeTOFvX89t2Nrf1v1BLhpQMCpSO1a6uz665%2BWbmToi2%2FVrTnjYpjlBr09F4N6A%0D%0AWB3%2BPkX1a09ZLNQ5A7F9y952LIUpdKdQeRLlNiPx%2FIqFkSwbKBI2shHFodOBuTkK%0D%0APIa2i1Hn%2B8cHEsN2JGiABAIJr2ryJnDA%2FIyHFFPCQRfAY3gXIKslPvqrt7YKrA9h%0D%0A%2BfsWWwMaxtVaJM6jtzoyyyyqtBL7JYylv3JX7zvaTsFLghGUNcwOVdXB4s0ggMyu%0D%0AwoymNBgpAgMBAAECggEANu8cCAO6mDzWaFMDXSLsdM%2Flj3Zyl1edb4e49Zkt2R%2Bt%0D%0A%2BQ%2F%2BrtMig5uDUDcjR1FIqjfpfFQnv1oviCxElS7kQX6iGWLLmYFacVZTe6Yr7pD5%0D%0AlTcMcgIekZkUnQAJ6rwH1YK45xgvIlzy0RWt9kG0Tsp3bhog9tGCNwDAoBtwSejJ%0D%0A6aIirPOXsxTEPLL1ZV%2FzLZ2NGWKGctgULGZwEEcXvLDR33Ejsf7eLVU0H5cl%2FbiD%0D%0AsG3wjPzbPeZWqewcmm6AfAu5B6o1oI%2B8wpz%2FNylBtFdmOPcJEnMycZXNVGyQnfu5%0D%0AnbthqGuhYgVbZymht41QhlLcZttCfp9Sll22WxdViQKBgQDjLL8MFFVI8%2FQwAQA6%0D%0ApdP1LOevEqfh86CwONiqbsfAR0DziBE%2BAqSmFWn%2Ff7tunrsrvzwA7oymmvQkH0cx%0D%0Aw56XnKVxGTIpltnndyHI5TPv6Nks%2FZHpW978l24zgy1vZ%2B2%2FCFHC94pJ7axOtQ%2BI%0D%0AX6ngZcZ%2Bxx8pZxuq6akRfg8ViwKBgQDGYzgVGSfmwElOqDp9iMpN%2FYnbagyZFVZc%0D%0Av1S7hf2aiyqOys3oDnGpYJHUaVB58vJGUmzJDJuAp2S6viSuMlIYNWZ5YZwKWiqR%0D%0ApJHR8vSj6XvCPrbfdBstcsz509rMmnMFGl%2B%2FTWZ%2F784Rls9cZltMYTAkKJxQp2vG%0D%0AymDm1FnHmwKBgCtv29vAa4o2cyNWnaeZG40OmAImrAkNH1VymSMFaZY%2FSZEHHFzh%0D%0A%2Fn9vKsRatQjyutEjkKKQ%2Bj3E9RePD3rZb5KHti6I5cmD%2BYhDhCc4hBTETfpHRcX7%0D%0A9ggQIFcjJuXdVl0nhxKjaEK4ejDWd%2FDYcc%2FhRfHpuvCcsXKdmOEqXFH%2FAoGBAJWe%0D%0A8QYggdJrRR54jBxvVTx6skTz92phCFBM0MfZJ0ouGTu2QpL4icqXlYRgpRxEGWrl%0D%0A8Tu0MXdXSAX7L8jdFMNDSvTSpA%2B%2BrwpG1t9D4DPa%2FMaj6%2BIdO%2F4L7gGhQQw8k%2FDO%0D%0AUlYCNwLYRk9HsT5byBGT3u32XuYJTqSPr4OHtepvAoGBALNJBKmvZX86NJuTXjG1%0D%0ABD8JBIiiRSyvmUqsY%2BJEbv2cL5ZlvkRba%2FA%2F730UhwrrPnHdfXGqtMbmZ6Qg7%2FOB%0D%0AiwwOsr29th5AD7S5KxpLMLVe%2BCa8gRh%2Buuk%2BBegiq8i4fRa%2Bsnq2EWwNPr8Fq0Gb%0D%0AIlqTmDYitLueMX9WZwdOeww9%0D%0A-----END+PRIVATE+KEY-----%0D%0A&publickey_pem=-----BEGIN+PUBLIC+KEY-----%0D%0AMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAsAyn1bwu6xZXPgib1IPQ%0D%0AIGbhX0O%2F%2BoUBKoBxu604yXbWeTO%2FY%2F6DuixNKN2ReAIAsd4ljtrSTUmRnid3nkzh%0D%0Ab1%2FPbdja39b9QS4aUDAqUjtWurs%2Buuflm5k6Itv1a0542KY5Qa9PReDegFgd%2Fj5F%0D%0A9WtPWSzUOQOxfcvediyFKXSnUHkS5TYj8fyKhZEsGygSNrIRxaHTgbk5CjyGtotR%0D%0A5%2FvHBxLDdiRogAQCCa9q8iZwwPyMhxRTwkEXwGN4FyCrJT76q7e2CqwPYfn7FlsD%0D%0AGsbVWiTOo7c6MsssqrQS%2ByWMpb9yV%2B872k7BS4IRlDXMDlXVweLNIIDMrsKMpjQY%0D%0AKQIDAQAB%0D%0A-----END+PUBLIC+KEY-----%0D%0A&submit01=submit'  http://localhost:3000/generate_platform_token_from_key



# call to create data request token 

curl -X POST -H "Content-Type: application/x-www-form-urlencoded" -d 'platform_token=eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjEuMC4wIn0.eyJwbGF0Zm9ybV9jbGllbnQiOiJleUpoYkdjaU9pSlNVekkxTmlJc0luUjVjQ0k2SWtwWFZDSXNJbXRwWkNJNkluTmxiR1lpZlEuZXlKcGMzTWlPaUpvZEhSd2N6b3ZMMkZ3YVM1amIyMGlMQ0p6ZFdJaU9pSmhibTl1ZVcxdmRYTWlMQ0p6WTI5d1pTSTZJbVp5WldWVmMyVnlJaXdpWm1GMmIzSnBkR1ZEYjJ4dmNpSTZJbUpzWVdOcklpd2lhMlY1SWpvaUxTMHRMUzFDUlVkSlRpQlFWVUpNU1VNZ1MwVlpMUzB0TFMxY2NseHVUVWxKUWtscVFVNUNaMnR4YUd0cFJ6bDNNRUpCVVVWR1FVRlBRMEZST0VGTlNVbENRMmRMUTBGUlJVRnpRWGx1TVdKM2RUWjRXbGhRWjJsaU1VbFFVVnh5WEc1SlIySm9XREJQTHl0dlZVSkxiMEo0ZFRZd05IbFlZbGRsVkU4dldTODJSSFZwZUU1TFRqSlNaVUZKUVhOa05HeHFkSEpUVkZWdFVtNXBaRE51YTNwb1hISmNibUl4TDFCaVpHcGhNemxpT1ZGVE5HRlZSRUZ4VldwMFYzVnljeXQxZFdac2JUVnJOa2wwZGpGaE1EVTBNa3RaTlZGaE9WQlNaVVJsWjBablpDOXFOVVpjY2x4dU9WZDBVRmRUZWxWUFVVOTRabU4yWldScGVVWkxXRk51VlVoclV6VlVXV280Wm5sTGFGcEZjMGQ1WjFOT2NrbFNlR0ZJVkdkaWF6VkRhbmxIZEc5MFVseHlYRzQxTDNaSVFuaE1SR1JwVW05blFWRkRRMkU1Y1RocFduZDNVSGxOYUhoU1ZIZHJSVmgzUjA0MFJubERja3BVTnpaeE4yVXlRM0YzVUZsbWJqZEdiSE5FWEhKY2JrZHpZbFpYYVZSUGJ6ZGpOazF6YzNOeGNsRlRLM2xYVFhCaU9YbFdLemczTW1zM1FsTTBTVkpzUkZoTlJHeFlWbmRsVEU1SlNVUk5jbk5MVFhCcVVWbGNjbHh1UzFGSlJFRlJRVUpjY2x4dUxTMHRMUzFGVGtRZ1VGVkNURWxESUV0RldTMHRMUzB0WEhKY2JpSXNJbWxoZENJNk1UWTVNemMzTWpjeU1YMC5KUUFCa0Yya1RWR3RtYVV1alpVY1lvSVVkRFpoby0wUWxMNFh1OTNCTDI0UzVhUFNyaENTeGo4U2tlempOcmQ5QVNDelluNUNCMmZGcGt0NU1xTWo0bkxKRHpUVlBHYThmS3VlU3ZfSVo3YVhrdHYtNy1ocTVJd1Qyd1JCSFVRb1psSUxiR1FSMUlDSzV3ZFdzX2d3cWVMMkZ5Sm1HZ0t2dzVKTmlnTmxxb016LVNwYWRSMHRUdXVaMy1CSDFjT1BuMTZUbl9PTzFkeURpd1NVNEJjeHNGV2RqQnltejBLVnFVWGJKOF9Bb3F3N1o2endDTzVYVThZREx4SVNWNEhhemtMYl83NlktWEstRERyNlliOExfQmZrTEMyX2N1dThMV1JOVGhUTGg5UTAyd2tqUTNwaEFIMjBVVUh6NjRhZHVyN0V5UmNYVEh2T0dYN08zSHRkV3ciLCJleHBpcmF0aW9uIjoiMjAyMy0xMC0wMVQyMDoyNToyMS4xOTlaIiwiaWF0IjoxNjkzNzcyNzIxfQ.svSEVemBNaSzLRttSK19S7eRwsRkwUhsPjQl0XCk9bp-Ox_Fhf2PUieoHyAcxQPcZPSpbFpfIl6VufrSRHDZJw&data_request_json=%7B%22one%22%3A%22two%22%2C%22validity%22%3A%7B%22notafter%22%3A%222023-10-15T22%3A08%3A34.570Z%22%7D%7D&privatekey_pem=-----BEGIN+PRIVATE+KEY-----%0D%0AMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCwDKfVvC7rFlc%2B%0D%0ACJvUg9AgZuFfQ7%2F6hQEqgHG7rTjJdtZ5M79j%2FoO6LE0o3ZF4AgCx3iWO2tJNSZGe%0D%0AJ3eeTOFvX89t2Nrf1v1BLhpQMCpSO1a6uz665%2BWbmToi2%2FVrTnjYpjlBr09F4N6A%0D%0AWB3%2BPkX1a09ZLNQ5A7F9y952LIUpdKdQeRLlNiPx%2FIqFkSwbKBI2shHFodOBuTkK%0D%0APIa2i1Hn%2B8cHEsN2JGiABAIJr2ryJnDA%2FIyHFFPCQRfAY3gXIKslPvqrt7YKrA9h%0D%0A%2BfsWWwMaxtVaJM6jtzoyyyyqtBL7JYylv3JX7zvaTsFLghGUNcwOVdXB4s0ggMyu%0D%0AwoymNBgpAgMBAAECggEANu8cCAO6mDzWaFMDXSLsdM%2Flj3Zyl1edb4e49Zkt2R%2Bt%0D%0A%2BQ%2F%2BrtMig5uDUDcjR1FIqjfpfFQnv1oviCxElS7kQX6iGWLLmYFacVZTe6Yr7pD5%0D%0AlTcMcgIekZkUnQAJ6rwH1YK45xgvIlzy0RWt9kG0Tsp3bhog9tGCNwDAoBtwSejJ%0D%0A6aIirPOXsxTEPLL1ZV%2FzLZ2NGWKGctgULGZwEEcXvLDR33Ejsf7eLVU0H5cl%2FbiD%0D%0AsG3wjPzbPeZWqewcmm6AfAu5B6o1oI%2B8wpz%2FNylBtFdmOPcJEnMycZXNVGyQnfu5%0D%0AnbthqGuhYgVbZymht41QhlLcZttCfp9Sll22WxdViQKBgQDjLL8MFFVI8%2FQwAQA6%0D%0ApdP1LOevEqfh86CwONiqbsfAR0DziBE%2BAqSmFWn%2Ff7tunrsrvzwA7oymmvQkH0cx%0D%0Aw56XnKVxGTIpltnndyHI5TPv6Nks%2FZHpW978l24zgy1vZ%2B2%2FCFHC94pJ7axOtQ%2BI%0D%0AX6ngZcZ%2Bxx8pZxuq6akRfg8ViwKBgQDGYzgVGSfmwElOqDp9iMpN%2FYnbagyZFVZc%0D%0Av1S7hf2aiyqOys3oDnGpYJHUaVB58vJGUmzJDJuAp2S6viSuMlIYNWZ5YZwKWiqR%0D%0ApJHR8vSj6XvCPrbfdBstcsz509rMmnMFGl%2B%2FTWZ%2F784Rls9cZltMYTAkKJxQp2vG%0D%0AymDm1FnHmwKBgCtv29vAa4o2cyNWnaeZG40OmAImrAkNH1VymSMFaZY%2FSZEHHFzh%0D%0A%2Fn9vKsRatQjyutEjkKKQ%2Bj3E9RePD3rZb5KHti6I5cmD%2BYhDhCc4hBTETfpHRcX7%0D%0A9ggQIFcjJuXdVl0nhxKjaEK4ejDWd%2FDYcc%2FhRfHpuvCcsXKdmOEqXFH%2FAoGBAJWe%0D%0A8QYggdJrRR54jBxvVTx6skTz92phCFBM0MfZJ0ouGTu2QpL4icqXlYRgpRxEGWrl%0D%0A8Tu0MXdXSAX7L8jdFMNDSvTSpA%2B%2BrwpG1t9D4DPa%2FMaj6%2BIdO%2F4L7gGhQQw8k%2FDO%0D%0AUlYCNwLYRk9HsT5byBGT3u32XuYJTqSPr4OHtepvAoGBALNJBKmvZX86NJuTXjG1%0D%0ABD8JBIiiRSyvmUqsY%2BJEbv2cL5ZlvkRba%2FA%2F730UhwrrPnHdfXGqtMbmZ6Qg7%2FOB%0D%0AiwwOsr29th5AD7S5KxpLMLVe%2BCa8gRh%2Buuk%2BBegiq8i4fRa%2Bsnq2EWwNPr8Fq0Gb%0D%0AIlqTmDYitLueMX9WZwdOeww9%0D%0A-----END+PRIVATE+KEY-----&submit01=submit'  http://localhost:3000/generate_data_request_token_from_json


curl 'http://localhost:3000/plugin_user_create_access_token' -H 'Content-Type: application/x-www-form-urlencoded' \
  --data-raw 'name=company+inc.&publicKey=-----BEGIN+PUBLIC+KEY-----%0D%0AMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEApTIB3VtVhCMAJgXefW5O%0D%0A06N3UNXcEjK3Xa3RwFuP56x4SshyoNBT1s9kZcOpLb9ZnsYla2UEbTUJjQOOuORa%0D%0AaXOxDlqtzEXsPbzsqNHIE6AVmQMaX%2BN5VyAV0E3r0hsT%2FiFRbyUvRY4FjzG17Jye%0D%0ASE6ijoxzF5ZR7TLw81fmJPR%2By7EjkJAa%2F4nx5cDkve4WagF2UQeWssTnvF9PPsGz%0D%0AQjKIdJMa7Wo1yEbJInhPe3YSo8DxnwtG4G2qXGoJ%2BQfytiMmAx6p%2Fjn5ooP%2Bsij1%0D%0AdrttlKpMEh8ZkPfzg53Pakx8Wo9jqZcc9Mpa6nyZ8Za09WV1ar34aMsOCbKtaOJ6%0D%0AGQIDAQAB%0D%0A-----END+PUBLIC+KEY-----%0D%0A' 

# create data access token

eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJ2ZXJzaW9uIjoiMS4wIiwiaXNzIjoiaHR0cHM6Ly9hcGktdGVzdC5jeWJvdGl4Lm5vIiwic3ViIjoibmFtZSAwMDEiLCJhdWQiOiJDeWJvdGl4Iiwia2V5IjpbIi0tLS0tQkVHSU4gUFVCTElDIEtFWS0tLS0tXHJcbk1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBcFRJQjNWdFZoQ01BSmdYZWZXNU9cclxuMDZOM1VOWGNFakszWGEzUndGdVA1Nng0U3NoeW9OQlQxczlrWmNPcExiOVpuc1lsYTJVRWJUVUpqUU9PdU9SYVxyXG5hWE94RGxxdHpFWHNQYnpzcU5ISUU2QVZtUU1hWCtONVZ5QVYwRTNyMGhzVC9pRlJieVV2Ulk0Rmp6RzE3SnllXHJcblNFNmlqb3h6RjVaUjdUTHc4MWZtSlBSK3k3RWprSkFhLzRueDVjRGt2ZTRXYWdGMlVRZVdzc1RudkY5UFBzR3pcclxuUWpLSWRKTWE3V28xeUViSkluaFBlM1lTbzhEeG53dEc0RzJxWEdvSitRZnl0aU1tQXg2cC9qbjVvb1Arc2lqMVxyXG5kcnR0bEtwTUVoOFprUGZ6ZzUzUGFreDhXbzlqcVpjYzlNcGE2bnlaOFphMDlXVjFhcjM0YU1zT0NiS3RhT0o2XHJcbkdRSURBUUFCXHJcbi0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLVxyXG4iXSwiaWF0IjoxNjk3ODA2NzY4LCJleHAiOjE3MDAzOTg3Njh9.nW-GdVSEgrtV1tt4tKlteAdApeL-Eh6abCGGfINGBt5F9RmFSrCxoFqz8VDCzKcEjz8tVYzrebanNfELi49PEw


curl 'http://localhost:3000/plugin_user_create_dataaccess_token' -H "X_HTTP_CYBOTIX_PLATFORM_TOKEN: eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJ2ZXJzaW9uIjoiMS4wIiwiaXNzIjoiaHR0cHM6Ly9hcGktdGVzdC5jeWJvdGl4Lm5vIiwic3ViIjoibmFtZSAwMDEiLCJhdWQiOiJDeWJvdGl4Iiwia2V5IjpbIi0tLS0tQkVHSU4gUFVCTElDIEtFWS0tLS0tXHJcbk1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBcFRJQjNWdFZoQ01BSmdYZWZXNU9cclxuMDZOM1VOWGNFakszWGEzUndGdVA1Nng0U3NoeW9OQlQxczlrWmNPcExiOVpuc1lsYTJVRWJUVUpqUU9PdU9SYVxyXG5hWE94RGxxdHpFWHNQYnpzcU5ISUU2QVZtUU1hWCtONVZ5QVYwRTNyMGhzVC9pRlJieVV2Ulk0Rmp6RzE3SnllXHJcblNFNmlqb3h6RjVaUjdUTHc4MWZtSlBSK3k3RWprSkFhLzRueDVjRGt2ZTRXYWdGMlVRZVdzc1RudkY5UFBzR3pcclxuUWpLSWRKTWE3V28xeUViSkluaFBlM1lTbzhEeG53dEc0RzJxWEdvSitRZnl0aU1tQXg2cC9qbjVvb1Arc2lqMVxyXG5kcnR0bEtwTUVoOFprUGZ6ZzUzUGFreDhXbzlqcVpjYzlNcGE2bnlaOFphMDlXVjFhcjM0YU1zT0NiS3RhT0o2XHJcbkdRSURBUUFCXHJcbi0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLVxyXG4iXSwiaWF0IjoxNjk3ODA2NzY4LCJleHAiOjE3MDAzOTg3Njh9.nW-GdVSEgrtV1tt4tKlteAdApeL-Eh6abCGGfINGBt5F9RmFSrCxoFqz8VDCzKcEjz8tVYzrebanNfELi49PEw" -H "" 

curl -v 'http://localhost:3000/plugin_user_create_dataaccess_token' \
  -H 'Content-Type: application/json' \
  -H 'Referer;' \
  -H 'X_HTTP_CYBOTIX_DATA_REQUEST: eyJtZXNzYWdldGV4dCI6IlEyRnVJSGRsSUhObFpTQmNibmx2ZFhJZ1kyeHBZMnNnYUdsemRHOXllU0JtYjNJZ2RHaGxJSEJoYzNRZ2FHOTFjajhLIiwicmVxdWVzdHMiOlt7InJlcXVlc3R0eXBlIjoiY2xpY2toaXN0b3J5IiwicmVxdWVzdGRldGFpbHMiOnsidGltZSI6Im5vdy0xaHIiLCJmaWx0ZXIiOiIuKnRvcC4qIn19LHsicmVxdWVzdHR5cGUiOiJjbGlja2hpc3RvcnkiLCJyZXF1ZXN0ZGV0YWlscyI6eyJ0aW1lIjoibm93LTFociIsImZpbHRlciI6Ii4qdG9wLioifX1dfQo=' \
  -H 'X_HTTP_CYBOTIX_PLATFORM_TOKEN: eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJ2ZXJzaW9uIjoiMS4wIiwiaXNzIjoiaHR0cHM6Ly9hcGktZGV2LmN5Ym90aXgubm8iLCJzdWIiOiJjb3JwIGluYy4iLCJhdWQiOiJDeWJvdGl4Iiwia2V5IjpbIi0tLS0tQkVHSU4gUFVCTElDIEtFWS0tLS0tXHJcbk1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBcFRJQjNWdFZoQ01BSmdYZWZXNU9cclxuMDZOM1VOWGNFakszWGEzUndGdVA1Nng0U3NoeW9OQlQxczlrWmNPcExiOVpuc1lsYTJVRWJUVUpqUU9PdU9SYVxyXG5hWE94RGxxdHpFWHNQYnpzcU5ISUU2QVZtUU1hWCtONVZ5QVYwRTNyMGhzVC9pRlJieVV2Ulk0Rmp6RzE3SnllXHJcblNFNmlqb3h6RjVaUjdUTHc4MWZtSlBSK3k3RWprSkFhLzRueDVjRGt2ZTRXYWdGMlVRZVdzc1RudkY5UFBzR3pcclxuUWpLSWRKTWE3V28xeUViSkluaFBlM1lTbzhEeG53dEc0RzJxWEdvSitRZnl0aU1tQXg2cC9qbjVvb1Arc2lqMVxyXG5kcnR0bEtwTUVoOFprUGZ6ZzUzUGFreDhXbzlqcVpjYzlNcGE2bnlaOFphMDlXVjFhcjM0YU1zT0NiS3RhT0o2XHJcbkdRSURBUUFCXHJcbi0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLVxyXG4iXSwianRpIjoiNzI4NGZhY2YtZGNmZS00NmMxLWEyZTUtNmQ5NzhiNGI0NTA4IiwiaWF0IjoxNjk3OTI5MDIzLCJuYmYiOjE2OTc5MjkwMjMsImV4cCI6MTcwMDUyMTAyM30.0rUkpRRFItE9CBXlhqBOCzkYtMH1e5yUrs3ESh8ACJIPUjrSAFiRVLhDKlWVUh1Bvogq9ar391l70BS6SDMIpw' \
  -H 'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36' \
  -H 'installationUniqueId: 6596c84b-544c-98e3-6ce2-8ccc1b334055' \
  --compressed

#
# collect data from date/cybotix server
#


curl 'http://localhost:3000/data' \
  -H 'X_HTTP_CYBOTIX_PLATFORM_TOKEN: eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJ2ZXJzaW9uIjoiMS4wIiwiaXNzIjoiaHR0cHM6Ly9hcGktZGV2LmN5Ym90aXgubm8iLCJzdWIiOiJjb3JwIGluYyIsImF1ZCI6IkN5Ym90aXgiLCJrZXkiOlsiLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS1cclxuTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUFwVElCM1Z0VmhDTUFKZ1hlZlc1T1xyXG4wNk4zVU5YY0VqSzNYYTNSd0Z1UDU2eDRTc2h5b05CVDFzOWtaY09wTGI5Wm5zWWxhMlVFYlRVSmpRT091T1JhXHJcbmFYT3hEbHF0ekVYc1BienNxTkhJRTZBVm1RTWFYK041VnlBVjBFM3IwaHNUL2lGUmJ5VXZSWTRGanpHMTdKeWVcclxuU0U2aWpveHpGNVpSN1RMdzgxZm1KUFIreTdFamtKQWEvNG54NWNEa3ZlNFdhZ0YyVVFlV3NzVG52RjlQUHNHelxyXG5RaktJZEpNYTdXbzF5RWJKSW5oUGUzWVNvOER4bnd0RzRHMnFYR29KK1FmeXRpTW1BeDZwL2puNW9vUCtzaWoxXHJcbmRydHRsS3BNRWg4WmtQZnpnNTNQYWt4OFdvOWpxWmNjOU1wYTZueVo4WmEwOVdWMWFyMzRhTXNPQ2JLdGFPSjZcclxuR1FJREFRQUJcclxuLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tXHJcbiJdLCJqdGkiOiJhOTRhMzFkOC0wMDA5LTQwMzMtYTUwZi1kMWM3ZWUzYWU1OTAiLCJpYXQiOjE2OTgyNjM4NjUsIm5iZiI6MTY5ODI2Mzg2NSwiZXhwIjoxNzAwODU1ODY1fQ.B2SfzzvvJlqAKXFTuyy1FXwXWH9JPRJgFPCJ441vHw2JBnSDJApDtuE-ZzV2hPECjgEld58V-cgEmVXwq8oB8A' \
  -H 'X_HTTP_CYBOTIX_DATA_ACCESSTOKEN: eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJ2ZXJzaW9uIjoiMS4wIiwiaXNzIjoiaHR0cHM6Ly9hcGktZGV2LmN5Ym90aXgubm8iLCJzdWIiOiJjb3JwIGluYyIsImF1ZCI6Imh0dHA6Ly9hcGktZGV2LmN5Ym90aXgubm8vZGF0YSIsImp0aSI6IjA4MDgyM2U3LWUzM2YtNDE4Mi04MDc3LTBmYThhYjU3Y2NiMCIsImlhdCI6MTY5ODI2NDAzMSwibmJmIjoxNjk4MjY0MDMxLCJleHAiOjE2OTg1MjMyMzEsImdyYW50IjoiZXlKa1lYUmhYM04xWW1wbFkzUWlPbnNpYVc1emRHRnNiR0YwYVc5dVZXNXBjWFZsU1dRaU9pSTJOVGsyWXpnMFlpMDFORFJqTFRrNFpUTXRObU5sTWkwNFkyTmpNV0l6TXpRd05UVWlmU3dpWjNKaGJuUnpJanBiZXlKeVpYRjFaWE4wZEhsd1pTSTZJbU5zYVdOcmFHbHpkRzl5ZVNJc0luSmxjWFZsYzNSa1pYUmhhV3h6SWpwN0luUnBiV1VpT2lKdWIzY3RNV2h5SWl3aVptbHNkR1Z5SWpvaUxpcDBiM0F1S2lKOWZTeDdJbkpsY1hWbGMzUjBlWEJsSWpvaVkyeHBZMnRvYVhOMGIzSjVJaXdpY21WeGRXVnpkR1JsZEdGcGJITWlPbnNpZEdsdFpTSTZJbTV2ZHkweGFISWlMQ0ptYVd4MFpYSWlPaUl1S25SdmNDNHFJbjE5WFgwPSJ9.ignPOzjPkDw-JCivoEFBAVMKC1fIbooeU6baEKEvDuZaW4l2V_sC-3gHW9Ftcr3zvuix3RS4nEiURRnAnW2Hfg' \
  -H 'X_HTTP_CYBOTIX_DATA_REQUEST: eyJtZXNzYWdldGV4dCI6IlEyRnVJSGRsSUhObFpTQmNibmx2ZFhJZ1kyeHBZMnNnYUdsemRHOXllU0JtYjNJZ2RHaGxJSEJoYzNRZ2FHOTFjajhLIiwicmVxdWVzdHMiOlt7InJlcXVlc3R0eXBlIjoiY2xpY2toaXN0b3J5IiwicmVxdWVzdGRldGFpbHMiOnsidGltZSI6Im5vdy0xaHIiLCJmaWx0ZXIiOiIuKnRvcC4qIn19LHsicmVxdWVzdHR5cGUiOiJjbGlja2hpc3RvcnkiLCJyZXF1ZXN0ZGV0YWlscyI6eyJ0aW1lIjoibm93LTFociIsImZpbHRlciI6Ii4qdG9wLioifX1dfQo=' \
  --compressed


curl 'http://localhost:3000/data' \
  -H 'X_HTTP_CYBOTIX_PLATFORM_TOKEN: eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJ2ZXJzaW9uIjoiMS4wIiwiaXNzIjoiaHR0cHM6Ly9hcGktZGV2LmN5Ym90aXgubm8iLCJzdWIiOiJjb3JwIGluYyIsImF1ZCI6IkN5Ym90aXgiLCJrZXkiOlsiLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS1cclxuTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUFwVElCM1Z0VmhDTUFKZ1hlZlc1T1xyXG4wNk4zVU5YY0VqSzNYYTNSd0Z1UDU2eDRTc2h5b05CVDFzOWtaY09wTGI5Wm5zWWxhMlVFYlRVSmpRT091T1JhXHJcbmFYT3hEbHF0ekVYc1BienNxTkhJRTZBVm1RTWFYK041VnlBVjBFM3IwaHNUL2lGUmJ5VXZSWTRGanpHMTdKeWVcclxuU0U2aWpveHpGNVpSN1RMdzgxZm1KUFIreTdFamtKQWEvNG54NWNEa3ZlNFdhZ0YyVVFlV3NzVG52RjlQUHNHelxyXG5RaktJZEpNYTdXbzF5RWJKSW5oUGUzWVNvOER4bnd0RzRHMnFYR29KK1FmeXRpTW1BeDZwL2puNW9vUCtzaWoxXHJcbmRydHRsS3BNRWg4WmtQZnpnNTNQYWt4OFdvOWpxWmNjOU1wYTZueVo4WmEwOVdWMWFyMzRhTXNPQ2JLdGFPSjZcclxuR1FJREFRQUJcclxuLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tXHJcbiJdLCJqdGkiOiJhOTRhMzFkOC0wMDA5LTQwMzMtYTUwZi1kMWM3ZWUzYWU1OTAiLCJpYXQiOjE2OTgyNjM4NjUsIm5iZiI6MTY5ODI2Mzg2NSwiZXhwIjoxNzAwODU1ODY1fQ.B2SfzzvvJlqAKXFTuyy1FXwXWH9JPRJgFPCJ441vHw2JBnSDJApDtuE-ZzV2hPECjgEld58V-cgEmVXwq8oB8A' \
  -H 'X_HTTP_CYBOTIX_DATA_ACCESSTOKEN: eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJ2ZXJzaW9uIjoiMS4wIiwiaXNzIjoiaHR0cHM6Ly9hcGktZGV2LmN5Ym90aXgubm8iLCJzdWIiOiJjb3JwIGluYyIsImF1ZCI6Imh0dHA6Ly9hcGktZGV2LmN5Ym90aXgubm8vZGF0YSIsImp0aSI6IjA4MDgyM2U3LWUzM2YtNDE4Mi04MDc3LTBmYThhYjU3Y2NiMCIsImlhdCI6MTY5ODI2NDAzMSwibmJmIjoxNjk4MjY0MDMxLCJleHAiOjE2OTg1MjMyMzEsImdyYW50IjoiZXlKa1lYUmhYM04xWW1wbFkzUWlPbnNpYVc1emRHRnNiR0YwYVc5dVZXNXBjWFZsU1dRaU9pSTJOVGsyWXpnMFlpMDFORFJqTFRrNFpUTXRObU5sTWkwNFkyTmpNV0l6TXpRd05UVWlmU3dpWjNKaGJuUnpJanBiZXlKeVpYRjFaWE4wZEhsd1pTSTZJbU5zYVdOcmFHbHpkRzl5ZVNJc0luSmxjWFZsYzNSa1pYUmhhV3h6SWpwN0luUnBiV1VpT2lKdWIzY3RNV2h5SWl3aVptbHNkR1Z5SWpvaUxpcDBiM0F1S2lKOWZTeDdJbkpsY1hWbGMzUjBlWEJsSWpvaVkyeHBZMnRvYVhOMGIzSjVJaXdpY21WeGRXVnpkR1JsZEdGcGJITWlPbnNpZEdsdFpTSTZJbTV2ZHkweGFISWlMQ0ptYVd4MFpYSWlPaUl1S25SdmNDNHFJbjE5WFgwPSJ9.ignPOzjPkDw-JCivoEFBAVMKC1fIbooeU6baEKEvDuZaW4l2V_sC-3gHW9Ftcr3zvuix3RS4nEiURRnAnW2Hfg' \
  -H 'X_HTTP_CYBOTIX_DATA_REQUEST: eyJtZXNzYWdldGV4dCI6IlEyRnVJSGRsSUhObFpTQmNibmx2ZFhJZ1kyeHBZMnNnYUdsemRHOXllU0JtYjNJZ2RHaGxJSEJoYzNRZ2FHOTFjajhLIiwicmVxdWVzdHMiOlt7InJlcXVlc3R0eXBlIjoiY2xpY2toaXN0b3J5IiwicmVxdWVzdGRldGFpbHMiOnsidGltZSI6Im5vdy0xaHIiLCJmaWx0ZXIiOiIuKnRvcC4qIn19LHsicmVxdWVzdHR5cGUiOiJjbGlja2hpc3RvcnkiLCJyZXF1ZXN0ZGV0YWlscyI6eyJ0aW1lIjoibm93LTFociIsImZpbHRlciI6Ii4qdG9wLioifX1dfQo=' \
  --compressed



## check data agreement

curl 'http://api-dev.cybotix.no/plugin_user_check_request_against_data_agreements' \
  -H 'Content-Type: application/json' \
  -H 'X_HTTP_CYBOTIX_DATA_REQUEST: eyJtZXNzYWdldGV4dCI6IlEyRnVJSGRsSUhObFpTQjViM1Z5SUdOc2FXTnJJR2hwYzNSdmNua2dabTl5SUhSb1pTQndZWE4wSUdodmRYSWdQdz09IiwicmVxdWVzdHMiOlt7InJlcXVlc3R0eXBlIjoiY2xpY2toaXN0b3J5IiwicmVxdWVzdGRldGFpbHMiOnsidGltZSI6Im5vdy0xaHIiLCJmaWx0ZXIiOiIuKnBvd2VyLm5vLioifX0seyJyZXF1ZXN0dHlwZSI6ImNsaWNraGlzdG9yeSIsInJlcXVlc3RkZXRhaWxzIjp7InRpbWUiOiJub3ctMWhyIiwiZmlsdGVyIjoiLip0b29sLioifX1dfQ==' \
  -H 'X_HTTP_CYBOTIX_PLATFORM_TOKEN: eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJ2ZXJzaW9uIjoiMS4wIiwiaXNzIjoiaHR0cHM6Ly9hcGktZGV2LmN5Ym90aXgubm8iLCJzdWIiOiJjb3JwIGFzIiwiYXVkIjoiQ3lib3RpeCIsImtleSI6WyItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxyXG5NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXJDaC95NFdBQVlNdUV4ZHo5aUVXXHJcbnJxMVQ1OUs0YnYzVUJJRHppWDU4MWU4TzJjN0REam1hZm13ZGhTa2V4OUJENW5pVmkxOUdjVWhFeTVpRFZxd3BcclxuUWVCQ3RiSHJkN1hoK3hKbUdnV2VCY2ZMSDNDNVNYRE53KzJIZHFMY0hmQWpVU0RoUmlwbDNwd1U3NTRtWkRxYlxyXG5uRlVJWGVTb3UzQUtJTzg0a0pjUkdqc2lVQVFJNXF2VEJucHpWbFI3Q25RMk9pK1lyR1hIdHREUTJ2UFExV0ZmXHJcbjRzNTB3STFkc0ZNbzBaNm1sMERNTkljN3RMWkVwUXlxQlRWTVJ0ZVFHS1pwa0hZZ1dhaW50dzM0aklKYmh0TVlcclxub2ZXbEEvTE1sbGtFamhTL2ZBWEhoL2FtemNWZS92K3hCUHVvWmdpZ09xQ1M4WXNyaHJwQStSMmNvZ0xBeW04bFxyXG5Wd0lEQVFBQlxyXG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS1cclxuIl0sImp0aSI6IjEwZWZkNDRlLWExZGQtNDM1OS1hNjEyLTI3NjgxZWVlODY0YSIsImlhdCI6MTY5ODUyNjc4MiwibmJmIjoxNjk4NTI2NzgyLCJleHAiOjE3MDExMTg3ODJ9.eIASbaFdzfWdW7lGb1xh75A23suB5ZZkpomIn7ldrrU7_Ld2YylLRJN9WbNaEUceXY_GhF1g3UiF8E-8aJKd-Q' \
  -H 'installationUniqueId: 6596c84b-544c-98e3-6ce2-8ccc1b334055' \
  --compressed 

